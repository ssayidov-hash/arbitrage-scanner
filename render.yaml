services:
  - type: web
    name: arbitrage-scanner
    env: python
    region: singapore
    plan: free
    buildCommand: pip install -r requirements.txt
    startCommand: python bot.py
    autoDeploy: true
    healthCheckPath: /webhook
    envVars:
      # === TELEGRAM ===
      TELEGRAM_BOT_TOKEN:
        fromDatabase:
          name: secrets-db
          key: TELEGRAM_BOT_TOKEN
      CHAT_ID:
        fromDatabase:
          name: secrets-db
          key: CHAT_ID

      # === MEXC ===
      MEXC_API_KEY:
        fromDatabase:
          name: secrets-db
          key: MEXC_API_KEY
      MEXC_API_SECRET:
        fromDatabase:
          name: secrets-db
          key: MEXC_API_SECRET

      # === BITGET ===
      BITGET_API_KEY:
        fromDatabase:
          name: secrets-db
          key: BITGET_API_KEY
      BITGET_API_SECRET:
        fromDatabase:
          name: secrets-db
          key: BITGET_API_SECRET
      BITGET_API_PASSPHRASE:
        fromDatabase:
          name: secrets-db
          key: BITGET_API_PASSPHRASE

      # === KUCOIN ===
      KUCOIN_API_KEY:
        fromDatabase:
          name: secrets-db
          key: KUCOIN_API_KEY
      KUCOIN_API_SECRET:
        fromDatabase:
          name: secrets-db
          key: KUCOIN_API_SECRET
      KUCOIN_API_PASS:
        fromDatabase:
          name: secrets-db
          key: KUCOIN_API_PASS

      # === OKX ===
      OKX_API_KEY:
        fromDatabase:
          name: secrets-db
          key: OKX_API_KEY
      OKX_API_SECRET:
        fromDatabase:
          name: secrets-db
          key: OKX_API_SECRET
      OKX_API_PASS:
        fromDatabase:
          name: secrets-db
          key: OKX_API_PASS

      # === HUOBI ===
      HUOBI_API_KEY:
        fromDatabase:
          name: secrets-db
          key: HUOBI_API_KEY
      HUOBI_API_SECRET:
        fromDatabase:
          name: secrets-db
          key: HUOBI_API_SECRET

      # === BIGONE ===
      BIGONE_API_KEY:
        fromDatabase:
          name: secrets-db
          key: BIGONE_API_KEY
      BIGONE_API_SECRET:
        fromDatabase:
          name: secrets-db
          key: BIGONE_API_SECRET

      # === BYBIT ===
      BYBIT_API_KEY:
        fromDatabase:
          name: secrets-db
          key: BYBIT_API_KEY
      BYBIT_API_SECRET:
        fromDatabase:
          name: secrets-db
          key: BYBIT_API_SECRET
      BYBIT_API_PASSPHRASE:
        fromDatabase:
          name: secrets-db
          key: BYBIT_API_PASSPHRASE
